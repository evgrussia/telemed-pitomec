---
title: "ADR-001: Выбор провайдера видеосвязи"
created_by: "Architect Agent"
created_at: "2026-01-28"
---

# ADR-001: Выбор провайдера видеосвязи

## Status
Принято (Accepted)

## Context
Для реализации функционала видеоконсультаций в Telegram WebApp (FR-004) требуется надежная WebRTC инфраструктура. Решение должно поддерживать работу в мобильных браузерах (внутри Telegram), обеспечивать стабильное соединение при слабом интернете и быстро внедряться (срок MVP — 4 месяца).

## Decision
Выбран провайдер **Daily.co**.

### Альтернативы рассмотрены:
1. **Janus / Jitsi (Self-hosted)**:
   - **Плюсы**: Полный контроль над данными, отсутствие платы за минуты.
   - **Минусы**: Высокая сложность настройки WebRTC-серверов, необходимость обслуживания инфраструктуры, сложности с масштабированием и прохождением через NAT/Firewalls.
2. **Agora.io**:
   - **Плюсы**: Отличное качество в Китае/Азии, богатый SDK.
   - **Минусы**: Более сложный SDK по сравнению с Daily, цена выше для малых объемов.

## Rationale
1. **Time-to-market**: Daily.co предоставляет готовый UI-компонент (Daily Prebuilt) и простой React SDK, что позволяет запустить видеозвонки за 1-2 спринта.
2. **Совместимость с TWA**: Daily хорошо оптимизирован для мобильных Webview, что критично для Telegram WebApps.
3. **Managed Infra**: Провайдер берет на себя управление TURN/STUN серверами и маршрутизацию трафика, что снижает нагрузку на DevOps команду.
4. **Запись звонков**: Встроенная поддержка облачной записи в S3.

## Consequences

### Positive
- Быстрая реализация MVP.
- Высокая стабильность связи "из коробки".
- Минимальные затраты на поддержку серверов видеосвязи.

### Negative
- Операционные расходы (плата за минуты звонков).
- Зависимость от стороннего вендора (Vendor Lock-in).

### Neutral
- Требуется интеграция API-ключей в Backend для создания комнат.

---
*Документ создан: Architect Agent | Дата: 2026-01-28*
